#include <Windows.h>
#include <tchar.h>
#include <TlHelp32.h>
#include <string.h>
#include <stdio.h>
#include <malloc.h>
#include <strsafe.h>

typedef void (*AddFunc)(void);

int main()
{
	HMODULE hDll = LoadLibrary(_T("Dll_Hook.dll"));
	AddFunc StartHook = (AddFunc)GetProcAddress(hDll, "StartHook");
	AddFunc StopHook = (AddFunc)GetProcAddress(hDll, "StopHook");
	if (StartHook != NULL)
	{
		printf_s("found StartMonitoring function\n");
		StartHook();
	}
	StopHook();
	return 0;
}
